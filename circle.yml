general:
  branches:
    ignore:
      - gh-pages # list of branches to ignore
        

## Customize the test machine
machine:
  services:
    - docker

  timezone:
    Europe/Berlin # List of timezones http://en.wikipedia.org/wiki/List_of_tz_database_time_zones

dependencies:
  override:
    - docker info
    - docker build -t nolte/jekyll . 

test:
  override:
    - docker run -v /tmp/content:/tmp/jekyll -w /src/content -e JEKYLL_DESTINATION=/tmp/jekyll nolte/jekyll -c "build"
    - docker run -v /tmp/content:/tmp/jekyll -w /src/content -e JEKYLL_DESTINATION=/tmp/jekyll nolte/jekyll -c "rubocop"
    - docker run -v /tmp/content:/tmp/jekyll -w /src/content -e JEKYLL_DESTINATION=/tmp/jekyll nolte/jekyll -c "html_proofer"

## Custom notifications
notify:
  webhooks:
    - url: https://hooks.slack.com/services/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
